<?phpuse \Swoole\Server;class Listen{    private $port = 9556;    private $host = '127.0.0.1';    private $server;    private $listen;    public function __construct($server)    {        $this->server = $server;        echo $this->host.":".$this->port."\n";        $this->listen = $server->listen($this->host, $this->port, SWOOLE_SOCK_TCP);        //多端口监听        $this->onEvent();    }    public function onEvent(){        $this->listen->on('connect',[$this,'connect']);        $this->listen->on('receive',[$this,'receive']);        $this->listen->on('close',[$this,'close']);    }    public function connect($server, $fd){        echo "Client:{$fd}Connect.\n";    }    public function receive($server, $fd, $from_id, $data){        echo '接收到指令';        $data = json_decode($data,true);        if($data['code'] == 9){            echo 'stop server';            $this->server->shutdown();        }else{            $server->send($fd,$data);        }    }    public function close($server, $fd){        echo "Client:{$fd} Close.\n";    }}